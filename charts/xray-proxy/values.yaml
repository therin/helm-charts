# Deployment settings
replicaCount: 1

image:
  repository: teddysun/xray
  tag: "1.8.24"
  pullPolicy: IfNotPresent

# Service configuration
service:
  type: LoadBalancer
  socks5Port: 1080
  realityPort: 443

# Create and manage this ConfigMap manually outside of Helm
configMap:
  # Name of the external ConfigMap containing your Xray configuration
  # Create manually with: kubectl create configmap xray-config --from-file=config.json=your-config.json
  name: "xray-config"
  # Key in the ConfigMap that contains the JSON configuration
  key: "config.json"

# Node selector and tolerations
nodeSelector: {}
tolerations: []
affinity: {}

# Security context
securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000

# Pod security context
podSecurityContext:
  fsGroup: 1000

# Monitoring (optional)
monitoring:
  enabled: false
  port: 8080
